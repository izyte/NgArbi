<div class="d-flex flex-column px-1">
    <div class="form-group p-0 m-0 d-sm-flex" [ngClass]="inputClass">
        <label class="m-0 mx-1 p-0" *ngIf="label" [ngClass]="labelClass" [style.width]="lblWidth" [for]="ctrlId"
            [style.font-size.em]="lblFontSize">{{xl(label)}}</label>
        <div class="d-flex flex-grow-1" [ngClass]="innerInputClass" [ngStyle]="innerInputStyle">
            <div class="input-group p-0 m-0" [ngClass]="groupClass" [formGroup]="par.formObject">
                <!-- prepend -->
                <div *ngIf="prepend" class="input-group-prepend" [style.height]="ctrlHeight">
                    <span class="input-group-text" id="basic-addon1">{{prepend}}</span>
                </div>

                <!-- checkbox -->
                <!-- radio button -->

                <div *ngIf="isRadioInput" [formGroup]="par.formObject">
                    <!--input *ngFor="let item of radSource" type="radio" value="{{item.value}}"-->
                    <label class="form-check-label mr-1" *ngFor="let rad of radSource;let i=index" 
                        [style.font-size.em]="lblFontSize" [for]="ctrlId+i" >
                        <input  class="mr-1" [formControlName]="fieldName" *ngIf="rad.disp!=''" [attr.id]="ctrlId+i" type="radio"
                        [value]="rad.value">{{rad.disp}}
                    </label>

                    <!--ng-template ngFor let-rad let-i="index" [ngForOf]="radSource">
                        
                        <label  [for]="ctrlId+i" *ngIf="rad.disp" class="px-1"><input [formControlName]="fieldName" *ngIf="rad.disp!=''" [attr.id]="ctrlId+i" type="radio"
                            [value]="rad.value">{{rad.disp}}</label>
                    </ng-template-->
                    <div class="form-check">
                        <label class="form-check-label">
                            <input type="checkbox" class="form-check-input" value="" >Option 3
                        </label>
                    </div>
                </div>
                <!-- date picker -->

                <!-- select -->
                <select *ngIf="isSelectInput && !readOnly" class="form-control ctrl_select m-0" [ngClass]="controlClass"
                    [ngStyle]="controlStyle" [style.height]="ctrlHeight" [attr.id]="ctrlId"
                    [formControlName]="fieldName" [attr.aria-describedby]="helpId"
                    [style.font-size.em]="controlFontSize">
                    <option value="{{opt.value}}" *ngFor="let opt of lkpSource;let i=index;">{{opt.disp}}</option>
                </select>
                <!-- textarea -->
                <textarea *ngIf="isTextArea" [ngClass]="controlClass" [ngStyle]="controlStyle" [rows]="rows"
                    [style.font-size.em]="controlFontSize" [style.height]="ctrlHeight" [attr.id]="ctrlId"
                    [formControlName]="fieldName" class="form-control m-0 ctrl_input" [attr.aria-describedby]="helpId"
                    [placeholder]="placeHolder">
                </textarea>

                <!-- text input -->
                <input *ngIf="isTextInput" class="form-control  m-0 ctrl_input" [ngClass]="controlClass"
                    [ngStyle]="controlStyle" [style.height]="ctrlHeight" [attr.id]="ctrlId"
                    [formControlName]="fieldName" type="text" [style.font-size.em]="controlFontSize"
                    [attr.aria-describedby]="helpId" [placeholder]="placeHolder">

                <!-- append -->
                <div *ngIf="append" class="input-group-append" [style.height]="ctrlHeight">
                    <span class="input-group-text" id="basic-addon2">{{append}}</span>
                </div>
            </div>
            <div class="pl-1 text-muted ctrl_help" [ngClass]="helpClass" [ngStyle]="helpStyle"
                [style.font-size.em]="lblFontSize">Help context goes here!
            </div>
            <!--small *ngIf="false" class="form-text text-muted m-0 p-0 ml-1" [style.height]="ctrlHeight"
                style="background: yellow;margin:0px 0px 0px 0px;flex-grow: 1;"
                [style.font-size.em]="lblFontSize * 0.65" [ngClass]="helpClass">We'll never .</small-->
        </div>
    </div>

</div>